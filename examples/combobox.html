<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Combobox - shadcn/ui HTML</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        border: "hsl(var(--border))",
                        input: "hsl(var(--input))",
                        background: "hsl(var(--background))",
                        foreground: "hsl(var(--foreground))",
                        primary: {
                            DEFAULT: "hsl(var(--primary))",
                            foreground: "hsl(var(--primary-foreground))",
                        },
                        muted: {
                            DEFAULT: "hsl(var(--muted))",
                            foreground: "hsl(var(--muted-foreground))",
                        },
                        accent: {
                            DEFAULT: "hsl(var(--accent))",
                            foreground: "hsl(var(--accent-foreground))",
                        },
                    },
                    borderRadius: {
                        lg: "var(--radius)",
                        md: "calc(var(--radius) - 2px)",
                        sm: "calc(var(--radius) - 4px)",
                    },
                }
            }
        }
    </script>
    <style>
        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --primary: 222.2 47.4% 11.2%;
            --primary-foreground: 210 40% 98%;
            --muted: 210 40% 96.1%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 210 40% 96.1%;
            --accent-foreground: 222.2 47.4% 11.2%;
            --border: 214.3 31.8% 91.4%;
            --input: 214.3 31.8% 91.4%;
            --radius: 0.5rem;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        .combobox-list {
            display: none;
        }

        .combobox-list.show {
            display: block;
        }

        .combobox-item.selected {
            background-color: hsl(var(--accent));
            color: hsl(var(--accent-foreground));
        }
    </style>
</head>
<body class="bg-background text-foreground p-8">
    <div class="max-w-4xl mx-auto space-y-8">
        <div>
            <h1 class="text-3xl font-bold mb-2">Combobox</h1>
            <p class="text-muted-foreground">Autocomplete input and command palette with a list of suggestions.</p>
        </div>

        <!-- Basic Combobox ---->
        <div class="space-y-4">
            <h2 class="text-2xl font-semibold">Basic Combobox</h2>
            <div class="w-full max-w-sm">
                <label class="text-sm font-medium mb-2 block">Select framework</label>
                <div class="relative">
                    <button onclick="toggleCombobox('framework')" class="flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2">
                        <span id="framework-selected">Select framework...</span>
                        <svg class="h-4 w-4 opacity-50" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>
                    </button>
                    <div id="combobox-framework" class="combobox-list absolute z-10 mt-1 w-full rounded-md border bg-popover p-1 text-popover-foreground shadow-md">
                        <div class="flex items-center border-b px-3 pb-2">
                            <svg class="mr-2 h-4 w-4 shrink-0 opacity-50" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                            <input oninput="filterCombobox('framework', this.value)" class="flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground" placeholder="Search framework..." />
                        </div>
                        <div class="max-h-[200px] overflow-y-auto mt-2">
                            <div class="combobox-item cursor-pointer select-none rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground" data-value="next" onclick="selectCombobox('framework', 'Next.js', 'next')">
                                <div class="flex items-center">
                                    <svg class="mr-2 h-4 w-4 invisible check-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
                                    Next.js
                                </div>
                            </div>
                            <div class="combobox-item cursor-pointer select-none rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground" data-value="sveltekit" onclick="selectCombobox('framework', 'SvelteKit', 'sveltekit')">
                                <div class="flex items-center">
                                    <svg class="mr-2 h-4 w-4 invisible check-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
                                    SvelteKit
                                </div>
                            </div>
                            <div class="combobox-item cursor-pointer select-none rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground" data-value="nuxt" onclick="selectCombobox('framework', 'Nuxt.js', 'nuxt')">
                                <div class="flex items-center">
                                    <svg class="mr-2 h-4 w-4 invisible check-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
                                    Nuxt.js
                                </div>
                            </div>
                            <div class="combobox-item cursor-pointer select-none rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground" data-value="remix" onclick="selectCombobox('framework', 'Remix', 'remix')">
                                <div class="flex items-center">
                                    <svg class="mr-2 h-4 w-4 invisible check-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
                                    Remix
                                </div>
                            </div>
                            <div class="combobox-item cursor-pointer select-none rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground" data-value="astro" onclick="selectCombobox('framework', 'Astro', 'astro')">
                                <div class="flex items-center">
                                    <svg class="mr-2 h-4 w-4 invisible check-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
                                    Astro
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Combobox with Form ---->
        <div class="space-y-4">
            <h2 class="text-2xl font-semibold">In Form</h2>
            <div class="w-full max-w-sm rounded-lg border bg-card p-6">
                <form class="space-y-4">
                    <div>
                        <label class="text-sm font-medium mb-2 block">Programming Language</label>
                        <div class="relative">
                            <button type="button" onclick="toggleCombobox('language')" class="flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2">
                                <span id="language-selected">Select language...</span>
                                <svg class="h-4 w-4 opacity-50" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>
                            </button>
                            <div id="combobox-language" class="combobox-list absolute z-10 mt-1 w-full rounded-md border bg-popover p-1 text-popover-foreground shadow-md">
                                <div class="flex items-center border-b px-3 pb-2">
                                    <svg class="mr-2 h-4 w-4 shrink-0 opacity-50" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                                    <input oninput="filterCombobox('language', this.value)" class="flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground" placeholder="Search..." />
                                </div>
                                <div class="max-h-[200px] overflow-y-auto mt-2">
                                    <div class="combobox-item cursor-pointer select-none rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground" onclick="selectCombobox('language', 'JavaScript', 'js')">JavaScript</div>
                                    <div class="combobox-item cursor-pointer select-none rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground" onclick="selectCombobox('language', 'TypeScript', 'ts')">TypeScript</div>
                                    <div class="combobox-item cursor-pointer select-none rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground" onclick="selectCombobox('language', 'Python', 'py')">Python</div>
                                    <div class="combobox-item cursor-pointer select-none rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground" onclick="selectCombobox('language', 'Java', 'java')">Java</div>
                                    <div class="combobox-item cursor-pointer select-none rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground" onclick="selectCombobox('language', 'Go', 'go')">Go</div>
                                    <div class="combobox-item cursor-pointer select-none rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground" onclick="selectCombobox('language', 'Rust', 'rust')">Rust</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 w-full">
                        Submit
                    </button>
                </form>
            </div>
        </div>

        <!-- Multiple Selection ---->
        <div class="space-y-4">
            <h2 class="text-2xl font-semibold">Multiple Selection</h2>
            <div class="w-full max-w-sm">
                <label class="text-sm font-medium mb-2 block">Select technologies</label>
                <div class="relative">
                    <button onclick="toggleCombobox('tech')" class="flex min-h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2">
                        <div id="tech-selected" class="flex flex-wrap gap-1">
                            <span class="text-muted-foreground">Select technologies...</span>
                        </div>
                        <svg class="h-4 w-4 opacity-50 shrink-0" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>
                    </button>
                    <div id="combobox-tech" class="combobox-list absolute z-10 mt-1 w-full rounded-md border bg-popover p-1 text-popover-foreground shadow-md">
                        <div class="max-h-[200px] overflow-y-auto">
                            <div class="combobox-item cursor-pointer select-none rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground" onclick="toggleTechSelection('React', this)">
                                <div class="flex items-center">
                                    <svg class="mr-2 h-4 w-4 invisible check-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
                                    React
                                </div>
                            </div>
                            <div class="combobox-item cursor-pointer select-none rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground" onclick="toggleTechSelection('Vue', this)">
                                <div class="flex items-center">
                                    <svg class="mr-2 h-4 w-4 invisible check-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
                                    Vue
                                </div>
                            </div>
                            <div class="combobox-item cursor-pointer select-none rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground" onclick="toggleTechSelection('Angular', this)">
                                <div class="flex items-center">
                                    <svg class="mr-2 h-4 w-4 invisible check-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
                                    Angular
                                </div>
                            </div>
                            <div class="combobox-item cursor-pointer select-none rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground" onclick="toggleTechSelection('Svelte', this)">
                                <div class="flex items-center">
                                    <svg class="mr-2 h-4 w-4 invisible check-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>
                                    Svelte
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const selectedTech = new Set();

        function toggleCombobox(id) {
            const combobox = document.getElementById('combobox-' + id);
            combobox.classList.toggle('show');
        }

        function filterCombobox(id, value) {
            const combobox = document.getElementById('combobox-' + id);
            const items = combobox.querySelectorAll('.combobox-item');
            const searchValue = value.toLowerCase();

            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                if (text.includes(searchValue)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function selectCombobox(id, label, value) {
            document.getElementById(id + '-selected').textContent = label;
            document.getElementById('combobox-' + id).classList.remove('show');

            // Update checkmarks
            const items = document.querySelectorAll(`#combobox-${id} .combobox-item`);
            items.forEach(item => {
                const check = item.querySelector('.check-icon');
                if (check) {
                    if (item.getAttribute('data-value') === value) {
                        check.classList.remove('invisible');
                    } else {
                        check.classList.add('invisible');
                    }
                }
            });
        }

        function toggleTechSelection(tech, element) {
            const checkIcon = element.querySelector('.check-icon');

            if (selectedTech.has(tech)) {
                selectedTech.delete(tech);
                checkIcon.classList.add('invisible');
            } else {
                selectedTech.add(tech);
                checkIcon.classList.remove('invisible');
            }

            updateTechDisplay();
        }

        function updateTechDisplay() {
            const display = document.getElementById('tech-selected');

            if (selectedTech.size === 0) {
                display.innerHTML = '<span class="text-muted-foreground">Select technologies...</span>';
            } else {
                const badges = Array.from(selectedTech).map(tech =>
                    `<span class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold">${tech}</span>`
                );
                display.innerHTML = badges.join('');
            }
        }

        // Close comboboxes when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('[onclick*="toggleCombobox"]') && !e.target.closest('.combobox-list')) {
                document.querySelectorAll('.combobox-list').forEach(cb => {
                    cb.classList.remove('show');
                });
            }
        });
    </script>
</body>
</html>
